---
title: "模型缩放"
---

# 模型缩放的技术考虑

模型缩放允许玩家更改其当前模型的高度。

本页面记录了 VRChat 模型缩放的工作原理，以便为开发社区资源提供有用的信息。

阅读[Avatar Events文档](/creators.vrchat.com/worlds/udon/players/player-avatar-scaling) 或我们的[示例脚本](/creators.vrchat.com/worlds/examples/udon-example-scene/avatar-scaling-settings)以了解如何在 Udon 中使用模型缩放。
阅读[Avatar Parameters](/creators.vrchat.com/avatars/animator-parameters)页面，了解与缩放相关的可用模型参数。

## 术语定义

* **视角高度**：处于 T-Pose 时，模型视角点距离 0 点（变换位置中的 Y 高度垂直分量）的高度。
* **预制体高度**：在缩放处于默认值时模型的视角点高度。这是通过在 SDK 中放置“视角球位置”进行配置的。
* **目标视角点高度**：由玩家或 Udon 设置的，希望缩放到的模型视角点高度。
* **模型缩放比例**："预制体高度"和"目标视角点高度"之间的比例。例如，如果目标高度为 4.5 米，预制体高度为 1.5 米，则"模型缩放比例"为 3。

## 值范围

"预制体高度"没有限制。您可以在 SDK 中将模型的"视角球位置"放置在任何高度。但请注意，您的整体模型缩放会影响您的性能等级。

在 Udon 中，"目标视角点高度"被限制在 0.1 到 100 米之间，而在圆盘菜单中，可用的缩放范围为 0.2 到 5.0 米。但是，通过上传超出此范围且 _不使用_ 缩放刻度的模型，您仍然可以超出这些限制。在这种情况下，"目标视角点高度"将与"预制体高度"匹配，而"预制体高度"不受限制。
<!--缩放刻度是什么-->
这个限制意味着 Udon 必须在 “avatar eye height changed” 事件上重新应用缩放以强制执行模型缩放。否则，玩家可以切换到更矮或更高的模型，以绕过世界设定的限制。

在通过网站禁用缩放功能的世界中，"目标视角点高度"将始终与"预制体高度"匹配。

## 缩放的应用方式

通过更改模型的根变换的 “localScale” 来进行模型的缩放。**此缩放是强制执行的**。除了与模型缩放相关的 Udon 函数，玩家无法通过其他方式覆盖模型根缩放。

每当缩放发生变化（例如切换模型或重置/重新加载当前模型），模型会在本地进行“重新测量”。这个过程会调整您的视角点以匹配新的高度，并重新定位一些内部组件（例如声音位置）。

缩放会作为“视角点高度”自动与每个玩家同步，数值保留 3 个小数点。对于远端玩家，每当收到新的高度时，缩放变化会在短时间内平滑过渡。

在使用圆盘菜单中的缩放刻度时，您的模型仅在镜子中进行缩放。在确认刻度上的缩放后，新的缩放将立即应用于您的模型，并发送给远端玩家。